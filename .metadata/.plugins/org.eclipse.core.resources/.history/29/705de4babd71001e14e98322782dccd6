package com.osc.userservice.config;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import com.osc.proto.storeUserDetailsGrpc;
import com.osc.proto.storeUserDetailsGrpc.storeUserDetailsBlockingStub;

import io.grpc.ManagedChannel;
import io.grpc.ManagedChannelBuilder;

@Configuration
public class ApplicationInitialization {
	
@Autowired
private ManagedChannel channel;
	
	@Bean
	public ManagedChannel storeUserDetailsServiceBlockingStub() {
		 channel = ManagedChannelBuilder
				 .forAddress(ConfiguredProperties.getCacheStaticGrpcHost(), ConfiguredProperties.getCacheStaticGrpcPort()).usePlaintext().build();

		return channel;
	}

}
